# 基于flask实现前后端不分离web项目
项目地址：https://github.com/xuhongtong/manage_web

## 功能需求
- 1.用户认证系统：用户登录、注册、邮箱激活账号、密码找回、保持用户会话状态
- 2.博客后台管理系统：文章和分类管理（添加、查看、编辑、删除），公告（添加或修改）、个人中心（设置或修改头像、用户名、邮箱、密码）
- 3.博客前端展示：公共区（导航条、公告栏、搜索栏、分类栏、底部信息），首页（公共区、所有类别的文章列表）、分类页（公共区、指定类别的文章列表）、
             搜索页（公共区、指定搜索的文章列表）、详情页（公共区、文章详细内容、评论区）

## 安全需求
- 1.用户认证系统：密文存储账号密码信息、安全登录验证码、设置用户状态过期时间、访问页面前进行账号登录验证
- 2.博客后台管理系统：账号登录过期时间、回收站、编辑或删除进行警告
- 3.博客展示：设置评论禁用语、设置ip访问黑名单、搜索功能使用频率限制

## 体验需求
- 1.用户认证系统：提交表单失败提示错误信息（账号或密码错误、验证码错误）、提交表单失败记住填写的错误信息、登录记住账号信息
- 2.博客后台管理系统：暂无
- 3.博客展示：博客推荐（按更新时间、点击量、点赞数、评论数）

## 项目更新日志
### 用户认证模块（1.1~1.7基本完成) 
- flask项目结构创建，添加用户登录、注册、注销功能（2020.1.3完成）
- flask项目结构完善及添加注册账号邮箱激活账号、未登录访问首页跳转登录页面验证功能（2020.1.4完成）
- 添加session会话保持用户登录状态功能（2020.1.6完成）
- 添加密码重置功能（2020.1.6完成）
- 添加记住密码功能，完善session会话改为配合第三方flask-session存储cookie至redis，并设置记住密码过期时间（2020.1.7完成）
- 添加提交表单错误提示功能（2020.1.7完成）
- 添加验证码验证功能,通过session保存至redis并设置验证码过期时间（2020.1.7完成）
- 添加表单提交出错时记住填写的错误信息（2020.1.7完成）
- 添加数据库密文存储账号密码功能（2020.1.7完成）

##### 用户表

| 列名        | 数据类型   | 约束条件               | 说明         |
| ----------- | ---------- | ---------------------- | ------------ |
| id          | 自增整数型 | 唯一主键约束（不为空） | 唯一标识     |
| username    | 字符串类型 | 唯一约束（不为空）     | 用户名       |
| password    | 字符串类型 | （不为空）             | 密码         |
| email       | 字符串类型 | 唯一约束（不为空）     | 邮箱         |
| is_vaild    | 布尔类型   | 默认为0（0为未激活）   | 账号是否激活 |
| create_time | 时间类型   |                        | 创建时间     |
| update_time | 时间类型   |                        | 更新时间     |

### 个人博客模块(1.8~1.18基本完成)
- 完成博客展示页面、博客后台管理页面模板的选取（2020.1.8完成）
- 添加博客管理后台平台，包括、文章列表、添加文章、分类列表、添加分类页面的设计（2020.1.9完成）
- 添加博客后台的添加文章和添加分类功能、整合用户认证模块功能以及完成博客详情页面文章内容区域的动态展示（2020.1.10完成）
- 添加博客后台的文章列表、分类列表的展示以及查看、编辑、删除指定条目的功能（2020.1.11完成）
- 添加博客展示侧边公告、分类的后端逻辑和动态展示，博客后台公告添加编辑功能（2020.1.11完成）
- 添加博客展示侧边搜索功能（2020.1.13完成）
- 添加博客后台用户头像上传功能（2020.1.14完成）
- 添加博客展示页面分页功能（2020.1.17完成）
- 添加博客展示页面评论和后台逻辑功能（2020.1.18完成）


##### 文章表

| 列名          | 数据类型   | 约束                   | 说明         |
| ------------- | ---------- | ---------------------- | ------------ |
| id            | 自增整数型 | 唯一主键约束（不为空） | 唯一标识     |
| title         | 字符串类型 | 不为空                 | 文章标题     |
| tag 1         | 字符串类型 |                        | 文章标签1    |
| tag2          | 字符串类型 |                        | 文章标签2    |
| tag3          | 字符串类型 |                        | 文章标签3    |
| short_content | 字符串类型 |                        | 文章简介     |
| content       | 文本类型   |                        | 文章内容     |
| create_time   | 时间类型   |                        | 创建时间     |
| update_time   | 时间类型   |                        | 更新时间     |
| author_id     | 整数类型   | 外键约束               | 用户id       |
| category_id   | 整数类型   | 外键约束               | 分类id       |
| is_delete     | 布尔类型   | 默认为0（0为未删除）   | 文章是否删除 |

##### 分类表

| 列名        | 数据类型数据类型 | 约束                   | 说明         |
| ----------- | ---------------- | ---------------------- | ------------ |
| id          | 自增整数型       | 唯一主键约束（不为空） | 唯一标识     |
| category    | 字符串类型       | 唯一约束（不为空）     | 类别名称     |
| create_time | 时间类型         |                        | 创建时间     |
| update_time | 时间类型         |                        | 更新时间     |
| is_delete   | 布尔类型         | 默认为0（0为未删除）   | 类别是否删除 |

##### 公告表

| 列名        | 数据类型数据类型 | 约束                   | 说明     |
| ----------- | ---------------- | ---------------------- | -------- |
| id          | 自增整数型       | 唯一主键约束（不为空） | 唯一标识 |
| message     | 字符串类型       |                        | 公告信息 |
| create_time | 时间类型         |                        | 创建时间 |
| create_time | 时间类型         |                        | 创建时间 |



## 使用的插件
- jinja2（flask自带的模板语法引擎，用于渲染web网页）
- Werkzeug（flask自带的WSGI工具包，用于收发web请求）
- Flask-SQLAlchemy(第三方的ORM框架，用于操作数据库)
- Flask-blueprint(第三方用于分模块开发的蓝图插件，用于管理不同功能模块的请求路由接口函数)
- Flask-Mail（第三方的邮件服务器插件，用于提供收发邮件服务）
- PyMySQL（第三方的mysql数据库连接引擎，提供flask框架与mysql数据库间的通信）
- itsdangerous（第三方的生成临时身份令牌工具，用于提供网络传输的加解密安全验证服务）
- session(flask自带缓存插件，将cookie存储至服务器)
- flask-session(第三方缓存插件，将cookie存储于服务器端，需配合session使用)
- pillow(第三方图像库，用于实现图像归档和处理功能)
- hashlib(python自带的哈希库，用于提供数据完整性校验服务)
- Flask-CKEditor(富文本编辑器，用于长文本多格式书写)
- EditThisCookie Chrome（用于查看和清除浏览器当前页面保存的cookie信息，包括session_id、过期时间等）
- flask-msearch （提供全文检索服务）
- flask_paginate(提供后端分页功能)
- summernote（jQuery文本编辑器）

## 工具
- chrome（用于访问网页）
- pycharm（用于编写python代码）
- postman（用于模拟网页发送http表单请求）
- Navicat Premium 12（mysql客户端，用于图形化查看mysql数据存储情况）
- RedisDesktopManager（redis客户端，用于图形化查看redis数据存储情况）
- redis-4.0.6（redis服务端，用于提供redis存储服务）
- MySQL Community Server-5.7.28（mysql服务端，用于提供mysql存储服务）
- VMware Workstation 12 Pro（虚拟机，用于提供虚拟的linux操作系统，实现windows下安装linux环境）
- CentOS Linux release 7.7.1908 （linux操作系统的发行版本，用于提供linux操作系统环境）
- Xshell 5(用于提供远程命令行连接，以方便的操作linux系统)
- github（用于提交和更新代码）
- Elasticsearch-7.1.1(用于提供全文检索服务)

## 前端框架
- AdminLTE（用于提供web后台管理的前端样式，便于快速完成页面的设计）

## 查阅资料主要资源
- 51cto
- csdn
- 博客园
- 菜鸟教程
- 简书
- 脚本之家
- segmentfault
- 模板之家
- Stack Overflow



